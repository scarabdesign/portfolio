apiVersion: v1
kind: Pod
metadata:
    name: portfolio-api
    labels:
        name: portfolio-api
        app: portfolio
spec:
  containers:
    - name: portfolio-api-container
      image: portfolio-api:latest
      imagePullPolicy: Never
      ports:
        - containerPort: 3000
---
apiVersion: v1
kind: Service
metadata:
  name: portfolio-api-service
  labels:
    name: portfolio-api-service
    app: portfolio
spec:
  type: NodePort
  ports:
    - port: 3000
      targetPort: 3000
      nodePort: 30004
  selector:
    name: portfolio-api
    app: portfolio